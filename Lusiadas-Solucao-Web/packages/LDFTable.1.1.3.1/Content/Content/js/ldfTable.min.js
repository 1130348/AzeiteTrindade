function LDFTableSort(e,a){var r=$(e),t=r.attr("data-sortable");if("True"==t){var l=r.attr("data-field"),d="1";void 0!=r.attr("data-order")&&(d=r.attr("data-order"));var n=[];n[0]=l,n[1]=d;var i=ldfTableFilterDataArray[a];ldfTableOrderArray[a]=n,$.ajax({url:ldfTableLoadCallbackArray[a],dataType:"json",data:{pageNumber:1,orderData:n,filterData:i},type:"GET",traditional:!0,success:function(e){if(0==e.header.status)alert(e.header.message);else{var t=-1*parseInt(d);r.attr("data-order",t),r.siblings().removeClass("sortAsc"),r.siblings().removeClass("sortDesc"),r.siblings().removeClass("active"),r.removeClass("sortAsc"),r.removeClass("sortDesc"),r.addClass(1==t?"sortAsc":"sortDesc"),r.addClass("active"),ldfTableCurPageAttribute[a]="1",LDFTableRenderBody(e,a)}},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}}function LDFTableRenderBody(e,a){if(0==e.header.status)return void LDFTableShowError(e.header.message);var r=e.body.pageCount,t=e.body.rowCount,l=e.body.filters;e=e.body.list,ldfTableTBodyArray[a].empty(),"undefined"!=typeof l&&(ldfTableFilterDataArray[a]=l),ldfTableRowsArray[a]=e,0==$(e).length&&(row="<tr><td colspan='"+$(ldfTableHeaderArray[a]).length+"' style='text-align:center;'>Sem registos</td></tr>",ldfTableTBodyArray[a].append(row)),$.each(e,function(e,r){var t="<tr data-rowid='"+r.rowID+"' style='"+r.style+"'>";$.each(r.rowItems,function(e,r){$.each(ldfTableHeaderArray[a],function(e,a){if(r.itemColumnName==a.headerID&&0!=a.headerVisible){var l=r.itemValue;null==l&&(l=""),null!=r.itemLink&&""!==r.itemLink&&(l='<a href="'+r.itemLink+'">'+htmlEscape(l)+"</a>");var d="False";d=0==a.headerMobile?"False":"True";var n="";for(var i in a.headerStyle)a.headerStyle.hasOwnProperty(i)&&(n+=i+":"+a.headerStyle[i]+";");t+="<td data-showMobile='"+d+"' data-column='"+r.itemColumnName+"' data-editable='"+a.headerEditable+"' style='"+n+"'>"+l+"</td>"}})}),1==ldfTableAttributes[a].canEditRow&&(t+="<td><button type='button' class='btn btn-success ldfTableEditRow_"+a+"' value='Editar'><li class='fa fa-edit'></li> Editar</button></td>"),1==ldfTableAttributes[a].canDeleteRow&&(t+="<td><button type='button' class='btn btn-danger ldfTableRemoveRow_"+a+"' value='Remover'><li class='fa fa-remove'></li> Remover</button></td>"),t+="</tr>",ldfTableTBodyArray[a].append(t)}),InitRowInlineButtons(a),LDFTableRenderPages(r,t,a)}function LDFTableFilterTable(e,a){var r=JsonFields(e);$.ajax({url:ldfTableSearchCallbackArray[a],dataType:"JSON",data:{pageNumber:1,orderData:ldfTableOrderArray[a],filterData:r},type:"GET",traditional:!0,success:function(e){0==e.header.status?alert(e.header.message):(ldfTableCurPageAttribute[a]=1,LDFTableRenderBody(e,a))},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}function LDFTableAddItem(e,a){var r=JsonFields(e);$.ajax({url:ldfTableAddCallbackArray[a],dataType:"JSON",data:{pageNumber:ldfTableCurPageAttribute[a],orderData:ldfTableOrderArray[a],filterData:ldfTableFilterDataArray[a],insertData:r},type:"POST",traditional:!0,success:function(e){0==e.header.status?alert(e.header.message):LDFTableRenderBody(e,a)},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}function LDFTableRenderPages(e,a,r){var t=0,l="",d=0;for(ldfTableDivFooterArray[r].empty(),t=0;e>=t;t++)l=t+1==ldfTableCurPageAttribute[r]?"active":"",hidePage="",t+1>5&&(e>=t&&(hidePage="hidden",d+=1),t+1<=ldfTableCurPageAttribute[r]&&(""!=hidePage&&(d-=1),hidePage="")),itemPage="<li class='"+l+" "+hidePage+"'><a href='#' data-page='"+(t+1)+"' data-order='1'>"+(t+1)+"</a></li>",ldfTableDivFooterArray[r].append(itemPage);d>0&&(itemPage="<li><a href='#' data-page='0'>...</a></li>",ldfTableDivFooterArray[r].append(itemPage)),ldfTableDivFooterArray[r].parent().find(".row").remove(),itemPage="<div class='row' style='position: relative;width: 100%;margin-top: -10px;'><span class='rowCount'>Total: "+a+" Registos</span></div>",ldfTableDivFooterArray[r].parent().append(itemPage)}function LDFTableChangePage(e,a){var r=[];if(0==e){var t=$(ldfTableDivFooterArray[a])[0].id,l=0;$("#"+t+" li.hidden").each(function(){10>=l&&($(this).removeClass("hidden"),l++)}),0==$("#"+t+" li.hidden").length&&$("#"+t+" li").find("[data-page='0']").remove()}else{var d=ldfTableTHeaderArray[a].find("th.active");r[0]=d.attr("data-field");var n=d.attr("data-order");"undefined"!=typeof d.attr("data-order")&&(n=-1*n),r[1]=n;var i=ldfTableFilterDataArray[a];$.ajax({url:ldfTableLoadCallbackArray[a],dataType:"json",data:{pageNumber:e,orderData:ldfTableOrderArray[a],filterData:i},type:"GET",traditional:!0,success:function(r){0==r.header.status?alert(r.header.message):(ldfTableCurPageAttribute[a]=e,LDFTableRenderBody(r,a))},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}}function LDFTableResetCounter(e){clearInterval(ldfTableRefreshTimeObject[e])}function LDFTableRestartCounter(e){LDFTableResetCounter(e);var a=ldfTableRefreshTime[e];ldfTableRefreshTimeObject[e]=setInterval(function(){UpdateRefreshHeader(e,a),LDFAutoRefreshTable(e)},a)}function UpdateRefreshHeader(e,a){var r=new Date;r.setSeconds(r.getSeconds()+a/1e3);var t=(r.getHours()<=9?"0":"")+r.getHours(),l=(r.getMinutes()<=9?"0":"")+r.getMinutes(),d=(r.getSeconds()<=9?"0":"")+r.getSeconds();$("#autoRefresh"+e).children("span").html("Próxima atualização "+t+":"+l+":"+d)}function LDFAutoRefreshTable(e){LDFTableRestartCounter(e),$.ajax({url:ldfTableLoadCallbackArray[e],dataType:"json",data:{pageNumber:ldfTableCurPageAttribute[e],orderData:ldfTableOrderArray[e],filterData:ldfTableFilterDataArray[e]},type:"GET",traditional:!0,success:function(a){0==a.header.status?alert(a.header.message):LDFTableRenderBody(a,e)},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}function InitRowInlineButtons(e){$(".ldfTableEditRow_"+e).on("click",function(){var a=$(this),r=$(this).closest("tr");"true"==$(r).attr("data-editing")?SaveRow(e,a,r):EditRow(e,a,r)}),$(".ldfTableRemoveRow_"+e).on("click",function(){var a=$(this).closest("tr");$.ajax({url:ldfTableRemoveCallBackArray[e],dataType:"json",data:{rowID:a.attr("data-rowid")},type:"POST",traditional:!0,success:function(a){1==a?$.ajax({url:ldfTableLoadCallbackArray[e],dataType:"JSON",type:"GET",data:{pageNumber:ldfTableCurPageAttribute[e],orderData:ldfTableOrderArray[e],filterData:ldfTableFilterDataArray[e]},traditional:!0,success:function(a){0==a.header.status?alert(a.header.message):LDFTableRenderBody(a,e)},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}}):alert("Infelizmente não foi possível alterar o registo pretendido")},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})})}function EditRow(e,a,r){$(r).attr("data-editing","true"),$(a).html("<li class='fa fa-save'></li> Gravar"),$(a).parent().append("<button type='button' class='btn btn-warning ldfTableCancelEditRow_"+e+"' value='Cancelar'><li class='fa fa-retweet'></li> Cancelar</button>"),InitRowInlineCancelButton(e);r.attr("data-rowid");$.each(ldfTableHeaderArray[e],function(e,a){1==a.headerEditable&&$.each($(r).children("td"),function(e,r){$(r).attr("data-column")==a.headerID&&($(r).attr("data-curValue",$(r).html()),$(this).html(RenderEditorField(a,$(r).html())),$(".ldfeditable.minimal").iCheck({checkboxClass:"icheckbox_flat-green"}))})})}function SaveRow(e,a,r){var t=new Object,l=new Object;$.each($(r).children("td[data-editable='true']"),function(a,r){$.each(ldfTableHeaderArray[e],function(e,a){if(a.headerID==$(r).attr("data-column")){var d=GetEditorFieldValue(a,r);"undefined"!=typeof d.id?(t[a.headerID]=d.id,l[a.headerID]=d.optionValue):t[a.headerID]=l[a.headerID]=d}})}),$.ajax({url:ldfTableEditCallBackArray[e],dataType:"json",data:{rowID:r.attr("data-rowid"),fields:JSON.stringify(t)},type:"POST",traditional:!0,success:function(t){0==t.header.status?alert(t.header.message):(r.attr("data-editing","false"),$(r).find("button.ldfTableCancelEditRow_"+e).remove(),$(a).html("<li class='fa fa-edit'></li> Editar"),$.each($(r).children("td[data-editable='true']"),function(a,r){$.each(ldfTableHeaderArray[e],function(e,a){a.headerID==$(r).attr("data-column")&&$(r).html(l[a.headerID])})}))},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}function InitRowInlineCancelButton(e){$(".ldfTableCancelEditRow_"+e).on("click",function(){var a=$(this),r=$(this).closest("tr");$.each($(r).children("td[data-editable='true']"),function(e,a){$(a).html($(a).attr("data-curValue")),$(a).attr("data-curValue","")}),a.remove();var t=$(r).find("button.ldfTableEditRow_"+e);$(t).html("<li class='fa fa-edit'></li> Editar"),r.attr("data-editing","false")})}function RenderEditorField(e,a){if(-1!=e.headerType.indexOf("String")||-1!=e.headerType.indexOf("Int"))return"<input type='text' class='form-control' value='"+a+"' />";if(-1!=e.headerType.indexOf("DateTime"))return"<input type='text' class='form-control' value='"+a+"' />";if(-1!=e.headerType.indexOf("SelectList")||-1!=e.headerType.indexOf("Boolean")){var r="";for(var t in e.headerEditContent)if(e.headerEditContent.hasOwnProperty(t)){var l="";a==e.headerEditContent[t]&&(l="selected"),r+="<option value='"+t+"' "+l+">"+e.headerEditContent[t]+"</option>"}return"<select class='form-control'>"+r+"</select>"}}function GetEditorFieldValue(e,a){if(-1!=e.headerType.indexOf("String")||-1!=e.headerType.indexOf("Int"))return $(a).children().val();if(-1!=e.headerType.indexOf("DateTime"))return $(a).children().val();if(-1!=e.headerType.indexOf("SelectList")||-1!=e.headerType.indexOf("Boolean")){var r={id:$(a).children().val(),optionValue:$("option:selected",$(a).children()).text()};return r}}function htmlEscape(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ToJavaScriptDate(e){var a,r,t,l;try{a=/Date\(([^)]+)\)/,r=a.exec(e),t=new Date(parseFloat(r[1])),l=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}catch(d){console.log("ldfTable | ToJavaScriptDate"+d.message),l=""}return l}function LDFTableShowError(e,a,r,t){alert("De momento não é possível satisfazer o seu pedido")}function JsonFields(e){var a=e.split("&"),r="";return $.each(a,function(e,t){var l=a[e].split("=");""!=r&&(r+=","),r+="{'fieldName':'"+l[0]+"','fieldValue':'"+l[1]+"'}"}),""!=r&&(r="["+r+"]"),r}function LoadLDFTable(e){$.ajax({url:ldfTableLoadCallbackArray[e],dataType:"JSON",type:"GET",success:function(a){0==a.header.status?alert(a.header.message):LDFTableRenderBody(a,e)},error:function(e,a,r,t){LDFTableShowError(e,a,r,t)}})}if("undefined"==typeof ldfTableRowsArray)var ldfTableRowsArray=new Array;if("undefined"==typeof ldfTableOrderArray)var ldfTableOrderArray=new Array;if("undefined"==typeof ldfTableHeaderArray)var ldfTableHeaderArray=new Array;if("undefined"==typeof ldfTableLoadCallbackArray)var ldfTableLoadCallbackArray=new Array;if("undefined"==typeof ldfTableAddCallbackArray)var ldfTableAddCallbackArray=new Array;if("undefined"==typeof ldfTableSearchCallbackArray)var ldfTableSearchCallbackArray=new Array;if("undefined"==typeof ldfTableRemoveCallBackArray)var ldfTableRemoveCallBackArray=new Array;if("undefined"==typeof ldfTableEditCallBackArray)var ldfTableEditCallBackArray=new Array;if("undefined"==typeof ldfTableTBodyArray)var ldfTableTBodyArray=new Array;if("undefined"==typeof ldfTableDivFooterArray)var ldfTableDivFooterArray=new Array;if("undefined"==typeof ldfTableTHeaderArray)var ldfTableTHeaderArray=new Array;if("undefined"==typeof ldfTableTPageArray)var ldfTableTPageArray=new Array;if("undefined"==typeof ldfTableFilterDataArray)var ldfTableFilterDataArray=new Array;if("undefined"==typeof ldfTableAttributes)var ldfTableAttributes=new Array;if("undefined"==typeof ldfTableCurPageAttribute)var ldfTableCurPageAttribute=new Array;if("undefined"==typeof ldfTableRefreshTime)var ldfTableRefreshTime=new Array;if("undefined"==typeof ldfTableRefreshTimeObject)var ldfTableRefreshTimeObject=new Array;$(".internalFooter").on("click","li > a",function(e){e.preventDefault()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxkZlRhYmxlLmpzIl0sIm5hbWVzIjpbIkxERlRhYmxlU29ydCIsIm9iaiIsImF0dHJpZCIsImN1ck9iamVjdCIsIiQiLCJpc1NvcnRhYmxlIiwiYXR0ciIsImZpZWxkTmFtZSIsIm9yZGVyVmFsdWUiLCJ1bmRlZmluZWQiLCJvcmRlckRhdGEiLCJmaWx0ZXJEYXRhIiwibGRmVGFibGVGaWx0ZXJEYXRhQXJyYXkiLCJsZGZUYWJsZU9yZGVyQXJyYXkiLCJhamF4IiwidXJsIiwibGRmVGFibGVMb2FkQ2FsbGJhY2tBcnJheSIsImRhdGFUeXBlIiwiZGF0YSIsInBhZ2VOdW1iZXIiLCJ0eXBlIiwidHJhZGl0aW9uYWwiLCJzdWNjZXNzIiwicmVzIiwiaGVhZGVyIiwic3RhdHVzIiwiYWxlcnQiLCJtZXNzYWdlIiwidmFsdWUiLCJwYXJzZUludCIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImxkZlRhYmxlQ3VyUGFnZUF0dHJpYnV0ZSIsIkxERlRhYmxlUmVuZGVyQm9keSIsImVycm9yIiwiZSIsImpxeGhyIiwic2V0dGluZ3MiLCJleGNlcHRpb24iLCJMREZUYWJsZVNob3dFcnJvciIsInBhZ2VDb3VudCIsImJvZHkiLCJyb3dDb3VudCIsImZpbHRlcnMiLCJsaXN0IiwibGRmVGFibGVUQm9keUFycmF5IiwiZW1wdHkiLCJsZGZUYWJsZVJvd3NBcnJheSIsImxlbmd0aCIsInJvdyIsImxkZlRhYmxlSGVhZGVyQXJyYXkiLCJhcHBlbmQiLCJlYWNoIiwiZGF0YWtleSIsImRhdGFWYWx1ZSIsInJvd0lEIiwic3R5bGUiLCJyb3dJdGVtcyIsInJvd0tleSIsInJvd1ZhbHVlIiwiaGVhZGVyS2V5IiwiaGVhZGVyVmFsdWUiLCJpdGVtQ29sdW1uTmFtZSIsIml0ZW1WYWx1ZSIsIml0ZW1MaW5rIiwiaHRtbEVzY2FwZSIsImF0dHJNb2JpbGUiLCJjIiwiaGFzT3duUHJvcGVydHkiLCJsZGZUYWJsZUF0dHJpYnV0ZXMiLCJjYW5FZGl0Um93IiwiY2FuRGVsZXRlUm93IiwiSW5pdFJvd0lubGluZUJ1dHRvbnMiLCJMREZUYWJsZVJlbmRlclBhZ2VzIiwiTERGVGFibGVGaWx0ZXJUYWJsZSIsImZpZWxkcyIsImZpZWxkT2JqZWN0IiwiSnNvbkZpZWxkcyIsImxkZlRhYmxlU2VhcmNoQ2FsbGJhY2tBcnJheSIsIkxERlRhYmxlQWRkSXRlbSIsImluc2VydE9iamVjdCIsImxkZlRhYmxlQWRkQ2FsbGJhY2tBcnJheSIsImluc2VydERhdGEiLCJpIiwiYWN0aXZlUGFnZSIsIm5IaWRlUGFnZXMiLCJsZGZUYWJsZURpdkZvb3RlckFycmF5IiwiaGlkZVBhZ2UiLCJpdGVtUGFnZSIsInBhcmVudCIsImZpbmQiLCJyZW1vdmUiLCJMREZUYWJsZUNoYW5nZVBhZ2UiLCJwYWdlIiwib2JqSUQiLCJpZCIsImlkeCIsInRoaXMiLCJlbGVtIiwibGRmVGFibGVUSGVhZGVyQXJyYXkiLCJjdXJpdGVtIiwiTERGVGFibGVSZXNldENvdW50ZXIiLCJjbGVhckludGVydmFsIiwibGRmVGFibGVSZWZyZXNoVGltZU9iamVjdCIsIkxERlRhYmxlUmVzdGFydENvdW50ZXIiLCJ0aW1lb3V0Q291bnQiLCJsZGZUYWJsZVJlZnJlc2hUaW1lIiwic2V0SW50ZXJ2YWwiLCJVcGRhdGVSZWZyZXNoSGVhZGVyIiwiTERGQXV0b1JlZnJlc2hUYWJsZSIsInRpbWUiLCJkdFRpbWUiLCJEYXRlIiwic2V0U2Vjb25kcyIsImdldFNlY29uZHMiLCJociIsImdldEhvdXJzIiwibW4iLCJnZXRNaW51dGVzIiwic2MiLCJjaGlsZHJlbiIsImh0bWwiLCJvbiIsInBhcmVudFRSIiwiY2xvc2VzdCIsIlNhdmVSb3ciLCJFZGl0Um93IiwibGRmVGFibGVSZW1vdmVDYWxsQmFja0FycmF5IiwiSW5pdFJvd0lubGluZUNhbmNlbEJ1dHRvbiIsImhlYWRlckVkaXRhYmxlIiwidGRrZXkiLCJ0ZFZhbHVlIiwiaGVhZGVySUQiLCJSZW5kZXJFZGl0b3JGaWVsZCIsImlDaGVjayIsImNoZWNrYm94Q2xhc3MiLCJqc29uT2JqZWN0IiwiT2JqZWN0IiwianNvbk9iamVjdFRleHQiLCJjaGFuZ2VEYXRhIiwiR2V0RWRpdG9yRmllbGRWYWx1ZSIsIm9wdGlvblZhbHVlIiwibGRmVGFibGVFZGl0Q2FsbEJhY2tBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0T2JqIiwiY29sT2JqZWN0IiwiaGVhZGVyVHlwZSIsImluZGV4T2YiLCJpdGVtIiwiaGVhZGVyRWRpdENvbnRlbnQiLCJzZWxlY3RlZCIsImVkaXRPYmplY3QiLCJ2YWwiLCJqc29uQXJyIiwidGV4dCIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJUb0phdmFTY3JpcHREYXRlIiwicGF0dGVybiIsInJlc3VsdHMiLCJkdCIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0RnVsbFllYXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmllbGRBcnJheSIsInNwbGl0IiwiYXJyIiwiTG9hZExERlRhYmxlIiwiQXJyYXkiLCJsZGZUYWJsZVRQYWdlQXJyYXkiLCJwcmV2ZW50RGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBMEJBLFFBQVNBLGNBQWFDLEVBQUtDLEdBRXZCLEdBQUlDLEdBQVlDLEVBQUVILEdBQ2RJLEVBQWFGLEVBQVVHLEtBQUssZ0JBR2hDLElBQWtCLFFBQWRELEVBQ0osQ0FDSSxHQUFJRSxHQUFZSixFQUFVRyxLQUFLLGNBQzNCRSxFQUFhLEdBRW1CQyxTQUFoQ04sRUFBVUcsS0FBSyxnQkFDZkUsRUFBYUwsRUFBVUcsS0FBSyxjQUdoQyxJQUFJSSxLQUNKQSxHQUFVLEdBQUtILEVBQ2ZHLEVBQVUsR0FBS0YsQ0FDZixJQUFJRyxHQUFhQyx3QkFBd0JWLEVBQ3pDVyxvQkFBbUJYLEdBQVVRLEVBRTdCTixFQUFFVSxNQUNFQyxJQUFLQywwQkFBMEJkLEdBQy9CZSxTQUFVLE9BQ1ZDLE1BQVFDLFdBQWMsRUFBR1QsVUFBYUEsRUFBV0MsV0FBZUEsR0FDaEVTLEtBQVUsTUFDVkMsYUFBWSxFQUNaQyxRQUFV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LEdBQUltSyxNQUMvRSxJQUFtQyxtQkFBekIscUJBQXlDLEdBQUk3SCxxQkFBc0IsR0FBSTZILE1BQ2pGLElBQXlDLG1CQUEvQiwyQkFBK0MsR0FBSWhLLDJCQUE0QixHQUFJZ0ssTUFDN0YsSUFBd0MsbUJBQTlCLDBCQUE4QyxHQUFJOUYsMEJBQTJCLEdBQUk4RixNQUMzRixJQUEyQyxtQkFBakMsNkJBQWlELEdBQUlqRyw2QkFBOEIsR0FBSWlHLE1BQ2pHLElBQTJDLG1CQUFqQyw2QkFBaUQsR0FBSWhELDZCQUE4QixHQUFJZ0QsTUFDakcsSUFBeUMsbUJBQS9CLDJCQUErQyxHQUFJakMsMkJBQTRCLEdBQUlpQyxNQUM3RixJQUFrQyxtQkFBeEIsb0JBQXdDLEdBQUlsSSxvQkFBcUIsR0FBSWtJLE1BQy9FLElBQXNDLG1CQUE1Qix3QkFBNEMsR0FBSXpGLHdCQUF5QixHQUFJeUYsTUFDdkYsSUFBb0MsbUJBQTFCLHNCQUF5QyxHQUFJNUUsc0JBQXVCLEdBQUk0RSxNQUNsRixJQUFrQyxtQkFBeEIsb0JBQXdDLEdBQUlDLG9CQUFxQixHQUFJRCxNQUMvRSxJQUF1QyxtQkFBN0IseUJBQTZDLEdBQUlwSyx5QkFBMEIsR0FBSW9LLE1BQ3pGLElBQWtDLG1CQUF4QixvQkFBd0MsR0FBSTFHLG9CQUFxQixHQUFJMEcsTUFDL0UsSUFBd0MsbUJBQTlCLDBCQUE4QyxHQUFJL0ksMEJBQTJCLEdBQUkrSSxNQUMzRixJQUFtQyxtQkFBekIscUJBQXlDLEdBQUlyRSxxQkFBc0IsR0FBSXFFLE1BQ2pGLElBQXlDLG1CQUEvQiwyQkFBK0MsR0FBSXhFLDJCQUE0QixHQUFJd0UsTUFxVjdGNUssR0FBRSxtQkFBbUJ1SCxHQUFHLFFBQVMsU0FBVSxTQUFVdkYsR0FDakRBLEVBQUU4SSIsImZpbGUiOiJsZGZUYWJsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAodHlwZW9mKGxkZlRhYmxlUm93c0FycmF5KSA9PSAndW5kZWZpbmVkJykgeyAgdmFyIGxkZlRhYmxlUm93c0FycmF5ID0gbmV3IEFycmF5KCk7IH1cclxuaWYgKHR5cGVvZihsZGZUYWJsZU9yZGVyQXJyYXkpID09ICd1bmRlZmluZWQnKSB7ICB2YXIgbGRmVGFibGVPcmRlckFycmF5ID0gbmV3IEFycmF5KCk7IH1cclxuaWYgKHR5cGVvZihsZGZUYWJsZUhlYWRlckFycmF5KSA9PSAndW5kZWZpbmVkJykgeyAgdmFyIGxkZlRhYmxlSGVhZGVyQXJyYXkgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZUxvYWRDYWxsYmFja0FycmF5KSA9PSAndW5kZWZpbmVkJykgeyAgdmFyIGxkZlRhYmxlTG9hZENhbGxiYWNrQXJyYXkgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZUFkZENhbGxiYWNrQXJyYXkpID09ICd1bmRlZmluZWQnKSB7ICB2YXIgbGRmVGFibGVBZGRDYWxsYmFja0FycmF5ID0gbmV3IEFycmF5KCk7IH0gXHJcbmlmICh0eXBlb2YobGRmVGFibGVTZWFyY2hDYWxsYmFja0FycmF5KSA9PSAndW5kZWZpbmVkJykgeyAgdmFyIGxkZlRhYmxlU2VhcmNoQ2FsbGJhY2tBcnJheSA9IG5ldyBBcnJheSgpOyB9IFxyXG5pZiAodHlwZW9mKGxkZlRhYmxlUmVtb3ZlQ2FsbEJhY2tBcnJheSkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZVJlbW92ZUNhbGxCYWNrQXJyYXkgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZUVkaXRDYWxsQmFja0FycmF5KSA9PSAndW5kZWZpbmVkJykgeyAgdmFyIGxkZlRhYmxlRWRpdENhbGxCYWNrQXJyYXkgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZVRCb2R5QXJyYXkpID09ICd1bmRlZmluZWQnKSB7ICB2YXIgbGRmVGFibGVUQm9keUFycmF5ID0gbmV3IEFycmF5KCk7IH0gXHJcbmlmICh0eXBlb2YobGRmVGFibGVEaXZGb290ZXJBcnJheSkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZURpdkZvb3RlckFycmF5ID0gbmV3IEFycmF5KCk7IH0gXHJcbmlmICh0eXBlb2YobGRmVGFibGVUSGVhZGVyQXJyYXkpID09ICd1bmRlZmluZWQnKSB7IHZhciBsZGZUYWJsZVRIZWFkZXJBcnJheSA9IG5ldyBBcnJheSgpOyB9IFxyXG5pZiAodHlwZW9mKGxkZlRhYmxlVFBhZ2VBcnJheSkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZVRQYWdlQXJyYXkgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZUZpbHRlckRhdGFBcnJheSkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZUZpbHRlckRhdGFBcnJheSA9IG5ldyBBcnJheSgpOyB9IFxyXG5pZiAodHlwZW9mKGxkZlRhYmxlQXR0cmlidXRlcykgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZUF0dHJpYnV0ZXMgPSBuZXcgQXJyYXkoKTsgfSBcclxuaWYgKHR5cGVvZihsZGZUYWJsZUN1clBhZ2VBdHRyaWJ1dGUpID09ICd1bmRlZmluZWQnKSB7ICB2YXIgbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlID0gbmV3IEFycmF5KCk7IH0gXHJcbmlmICh0eXBlb2YobGRmVGFibGVSZWZyZXNoVGltZSkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZVJlZnJlc2hUaW1lID0gbmV3IEFycmF5KCk7IH0gXHJcbmlmICh0eXBlb2YobGRmVGFibGVSZWZyZXNoVGltZU9iamVjdCkgPT0gJ3VuZGVmaW5lZCcpIHsgIHZhciBsZGZUYWJsZVJlZnJlc2hUaW1lT2JqZWN0ID0gbmV3IEFycmF5KCk7IH0gXHJcblxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcbi8vTWFpbiBNZXRob2RzXHJcbi8vXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG5cclxuZnVuY3Rpb24gTERGVGFibGVTb3J0KG9iaiwgYXR0cmlkKVxyXG57XHJcbiAgICB2YXIgY3VyT2JqZWN0ID0gJChvYmopO1xyXG4gICAgdmFyIGlzU29ydGFibGUgPSBjdXJPYmplY3QuYXR0cihcImRhdGEtc29ydGFibGVcIik7XHJcblxyXG5cclxuICAgIGlmIChpc1NvcnRhYmxlID09IFwiVHJ1ZVwiKSBcclxuICAgIHtcclxuICAgICAgICB2YXIgZmllbGROYW1lID0gY3VyT2JqZWN0LmF0dHIoXCJkYXRhLWZpZWxkXCIpO1xyXG4gICAgICAgIHZhciBvcmRlclZhbHVlID0gXCIxXCI7XHJcblxyXG4gICAgICAgIGlmIChjdXJPYmplY3QuYXR0cihcImRhdGEtb3JkZXJcIikgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9yZGVyVmFsdWUgPSBjdXJPYmplY3QuYXR0cihcImRhdGEtb3JkZXJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgb3JkZXJEYXRhID0gW107XHJcbiAgICAgICAgb3JkZXJEYXRhWzBdID0gZmllbGROYW1lO1xyXG4gICAgICAgIG9yZGVyRGF0YVsxXSA9IG9yZGVyVmFsdWU7XHJcbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSBsZGZUYWJsZUZpbHRlckRhdGFBcnJheVthdHRyaWRdO1xyXG4gICAgICAgIGxkZlRhYmxlT3JkZXJBcnJheVthdHRyaWRdID0gb3JkZXJEYXRhO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IGxkZlRhYmxlTG9hZENhbGxiYWNrQXJyYXlbYXR0cmlkXSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogeyAncGFnZU51bWJlcic6IDEsICdvcmRlckRhdGEnOiBvcmRlckRhdGEsICdmaWx0ZXJEYXRhJyA6IGZpbHRlckRhdGEgfSxcclxuICAgICAgICAgICAgdHlwZTogICAgICdHRVQnLFxyXG4gICAgICAgICAgICB0cmFkaXRpb25hbDp0cnVlLFxyXG4gICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5oZWFkZXIuc3RhdHVzID09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgYWxlcnQocmVzLmhlYWRlci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQob3JkZXJWYWx1ZSkgKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3QuYXR0cihcImRhdGEtb3JkZXJcIiwgdmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3Quc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcInNvcnRBc2NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyT2JqZWN0LnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJzb3J0RGVzY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3Quc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyT2JqZWN0LnJlbW92ZUNsYXNzKFwic29ydEFzY1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3QucmVtb3ZlQ2xhc3MoXCJzb3J0RGVzY1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3QuYWRkQ2xhc3MoXCJzb3J0QXNjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9iamVjdC5hZGRDbGFzcyhcInNvcnREZXNjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJPYmplY3QuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlW2F0dHJpZF0gPSBcIjFcIjtcclxuICAgICAgICAgICAgICAgICAgICBMREZUYWJsZVJlbmRlckJvZHkocmVzLCBhdHRyaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIGVycm9yIDogZnVuY3Rpb24gKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBMREZUYWJsZVJlbmRlckJvZHkoZGF0YSwgYXR0cmlkKSB7XHJcbiAgICBpZiAoZGF0YS5oZWFkZXIuc3RhdHVzID09IGZhbHNlKVxyXG4gICAge1xyXG4gICAgICAgIExERlRhYmxlU2hvd0Vycm9yKGRhdGEuaGVhZGVyLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGFnZUNvdW50ICAgID0gZGF0YS5ib2R5LnBhZ2VDb3VudDtcclxuICAgIHZhciByb3dDb3VudCAgICAgPSBkYXRhLmJvZHkucm93Q291bnQ7XHJcbiAgICB2YXIgZmlsdGVyRGF0YSAgID0gZGF0YS5ib2R5LmZpbHRlcnM7XHJcbiAgICBkYXRhICAgICAgICAgICAgID0gZGF0YS5ib2R5Lmxpc3Q7XHJcbiAgICBsZGZUYWJsZVRCb2R5QXJyYXlbYXR0cmlkXS5lbXB0eSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2YoZmlsdGVyRGF0YSkgIT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGxkZlRhYmxlRmlsdGVyRGF0YUFycmF5W2F0dHJpZF0gPSBmaWx0ZXJEYXRhO1xyXG4gICAgfVxyXG4gICAgbGRmVGFibGVSb3dzQXJyYXlbYXR0cmlkXSAgICAgICA9IGRhdGE7XHJcblxyXG4gICAgaWYgKCQoZGF0YSkubGVuZ3RoID09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcm93ID0gXCI8dHI+PHRkIGNvbHNwYW49J1wiICsgJChsZGZUYWJsZUhlYWRlckFycmF5W2F0dHJpZF0pLmxlbmd0aCArIFwiJyBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7Jz5TZW0gcmVnaXN0b3M8L3RkPjwvdHI+XCI7XHJcbiAgICAgICAgbGRmVGFibGVUQm9keUFycmF5W2F0dHJpZF0uYXBwZW5kKHJvdyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoZGF0YWtleSwgZGF0YVZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJvdyA9IFwiPHRyIGRhdGEtcm93aWQ9J1wiICsgZGF0YVZhbHVlLnJvd0lEICsgXCInIHN0eWxlPSdcIiArIGRhdGFWYWx1ZS5zdHlsZSArIFwiJz5cIjtcclxuXHJcbiAgICAgICAgJC5lYWNoKGRhdGFWYWx1ZS5yb3dJdGVtcywgZnVuY3Rpb24gKHJvd0tleSwgcm93VmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICQuZWFjaChsZGZUYWJsZUhlYWRlckFycmF5W2F0dHJpZF0sIGZ1bmN0aW9uIChoZWFkZXJLZXksIGhlYWRlclZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93VmFsdWUuaXRlbUNvbHVtbk5hbWUgPT0gaGVhZGVyVmFsdWVbXCJoZWFkZXJJRFwiXSAmJiBoZWFkZXJWYWx1ZVtcImhlYWRlclZpc2libGVcIl0gIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByb3dWYWx1ZS5pdGVtVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1ZhbHVlLml0ZW1MaW5rICE9IG51bGwgJiYgcm93VmFsdWUuaXRlbUxpbmsgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9XFxcIlwiICsgcm93VmFsdWUuaXRlbUxpbmsgKyBcIlxcXCI+XCIgKyBodG1sRXNjYXBlKHZhbHVlKSArIFwiPC9hPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJNb2JpbGUgPSBcIkZhbHNlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlclZhbHVlW1wiaGVhZGVyTW9iaWxlXCJdID09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck1vYmlsZSA9IFwiRmFsc2VcIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyTW9iaWxlID0gXCJUcnVlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgaW4gaGVhZGVyVmFsdWVbXCJoZWFkZXJTdHlsZVwiXSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJWYWx1ZVtcImhlYWRlclN0eWxlXCJdLmhhc093blByb3BlcnR5KGMpKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgKz0gYyArIFwiOlwiICsgaGVhZGVyVmFsdWVbXCJoZWFkZXJTdHlsZVwiXVtjXSArIFwiO1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcm93ICs9IFwiPHRkIGRhdGEtc2hvd01vYmlsZT0nXCIgKyBhdHRyTW9iaWxlICsgXCInIGRhdGEtY29sdW1uPSdcIiArIHJvd1ZhbHVlLml0ZW1Db2x1bW5OYW1lICsgXCInIGRhdGEtZWRpdGFibGU9J1wiICsgaGVhZGVyVmFsdWVbXCJoZWFkZXJFZGl0YWJsZVwiXSArIFwiJyBzdHlsZT0nXCIgKyBzdHlsZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L3RkPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGxkZlRhYmxlQXR0cmlidXRlc1thdHRyaWRdLmNhbkVkaXRSb3cgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByb3cgKz0gXCI8dGQ+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLXN1Y2Nlc3MgbGRmVGFibGVFZGl0Um93X1wiICsgYXR0cmlkICsgXCInIHZhbHVlPSdFZGl0YXInPjxsaSBjbGFzcz0nZmEgZmEtZWRpdCc+PC9saT4gRWRpdGFyPC9idXR0b24+PC90ZD5cIjsgICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9yb3cgKz0gXCI8dGQ+PGlucHV0IHR5cGU9J2J1dHRvbicgY2xhc3M9J2xkZlRhYmxlRWRpdFJvd19cIiArIGF0dHJpZCArIFwiJyB2YWx1ZT0nRWRpdGFyJy8+PC90ZD5cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsZGZUYWJsZUF0dHJpYnV0ZXNbYXR0cmlkXS5jYW5EZWxldGVSb3cgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByb3cgKz0gXCI8dGQ+PGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSdidG4gYnRuLWRhbmdlciBsZGZUYWJsZVJlbW92ZVJvd19cIiArIGF0dHJpZCArIFwiJyB2YWx1ZT0nUmVtb3Zlcic+PGxpIGNsYXNzPSdmYSBmYS1yZW1vdmUnPjwvbGk+IFJlbW92ZXI8L2J1dHRvbj48L3RkPlwiOyAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy9yb3cgKz0gXCI8dGQ+PGlucHV0IHR5cGU9J2J1dHRvbicgY2xhc3M9J2xkZlRhYmxlUmVtb3ZlUm93X1wiICsgYXR0cmlkICsgXCInIHZhbHVlPSdSZW1vdmVyJy8+PC90ZD5cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJvdyArPSBcIjwvdHI+XCI7XHJcblxyXG4gICAgICAgIGxkZlRhYmxlVEJvZHlBcnJheVthdHRyaWRdLmFwcGVuZChyb3cpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgSW5pdFJvd0lubGluZUJ1dHRvbnMoYXR0cmlkKTtcclxuICAgIExERlRhYmxlUmVuZGVyUGFnZXMocGFnZUNvdW50LCByb3dDb3VudCwgYXR0cmlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gTERGVGFibGVGaWx0ZXJUYWJsZShmaWVsZHMsIGF0dHJpZClcclxue1xyXG5cclxuICAgIHZhciBmaWVsZE9iamVjdCA9IEpzb25GaWVsZHMoZmllbGRzKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogbGRmVGFibGVTZWFyY2hDYWxsYmFja0FycmF5W2F0dHJpZF0sXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiB7ICdwYWdlTnVtYmVyJzogMSwgJ29yZGVyRGF0YSc6IGxkZlRhYmxlT3JkZXJBcnJheVthdHRyaWRdLCAnZmlsdGVyRGF0YScgOiBmaWVsZE9iamVjdCB9LFxyXG4gICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgIHRyYWRpdGlvbmFsOiB0cnVlLFxyXG4gICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMuaGVhZGVyLnN0YXR1cyA9PSBmYWxzZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICBhbGVydChyZXMuaGVhZGVyLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlW2F0dHJpZF0gPSAxO1xyXG4gICAgICAgICAgICAgICAgTERGVGFibGVSZW5kZXJCb2R5KHJlcywgYXR0cmlkKTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBcclxuICAgICAgICBlcnJvciA6IGZ1bmN0aW9uIChlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gTERGVGFibGVBZGRJdGVtKGZpZWxkcywgYXR0cmlkKVxyXG57XHJcbiAgICB2YXIgaW5zZXJ0T2JqZWN0ID0gSnNvbkZpZWxkcyhmaWVsZHMpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiBsZGZUYWJsZUFkZENhbGxiYWNrQXJyYXlbYXR0cmlkXSxcclxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxyXG4gICAgICAgIGRhdGE6IHsgJ3BhZ2VOdW1iZXInOiBsZGZUYWJsZUN1clBhZ2VBdHRyaWJ1dGVbYXR0cmlkXSwgJ29yZGVyRGF0YSc6IGxkZlRhYmxlT3JkZXJBcnJheVthdHRyaWRdLCAnZmlsdGVyRGF0YScgOiBsZGZUYWJsZUZpbHRlckRhdGFBcnJheVthdHRyaWRdLCAnaW5zZXJ0RGF0YScgOiBpbnNlcnRPYmplY3QgfSxcclxuICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgdHJhZGl0aW9uYWw6IHRydWUsXHJcbiAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgaWYgKHJlcy5oZWFkZXIuc3RhdHVzID09IGZhbHNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5oZWFkZXIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBMREZUYWJsZVJlbmRlckJvZHkocmVzLCBhdHRyaWQpOyBcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIGVycm9yIDogZnVuY3Rpb24gKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIExERlRhYmxlU2hvd0Vycm9yKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9KTsgICAgXHJcbn1cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vL0VuZCBNYWluIE1ldGhvZHNcclxuLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcblxyXG5cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vL1BhZ2UgTWV0aG9kc1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuXHJcbmZ1bmN0aW9uIExERlRhYmxlUmVuZGVyUGFnZXMocGFnZUNvdW50LCByb3dDb3VudCwgYXR0cmlkKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgYWN0aXZlUGFnZSA9IFwiXCI7XHJcbiAgICB2YXIgbkhpZGVQYWdlcyA9IDA7XHJcbiAgICBsZGZUYWJsZURpdkZvb3RlckFycmF5W2F0dHJpZF0uZW1wdHkoKTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDw9IHBhZ2VDb3VudDsgaSsrKSB7XHJcblxyXG4gICAgICAgIGlmICgoaSsxKSA9PSBsZGZUYWJsZUN1clBhZ2VBdHRyaWJ1dGVbYXR0cmlkXSlcclxuICAgICAgICAgICAgYWN0aXZlUGFnZSA9IFwiYWN0aXZlXCI7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBhY3RpdmVQYWdlID0gXCJcIjtcclxuXHJcbiAgICAgICAgaGlkZVBhZ2UgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAoKGkrMSk+NSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChpIDw9IHBhZ2VDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaGlkZVBhZ2UgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICAgICAgbkhpZGVQYWdlcyArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoKGkrMSkgPD0gbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlW2F0dHJpZF0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChoaWRlUGFnZSAhPSBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIG5IaWRlUGFnZXMgLT0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICBoaWRlUGFnZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGl0ZW1QYWdlID0gXCI8bGkgY2xhc3M9J1wiICsgYWN0aXZlUGFnZSArIFwiIFwiICsgaGlkZVBhZ2UgKyBcIic+PGEgaHJlZj0nIycgZGF0YS1wYWdlPSdcIiArIChpICsgMSkgKyBcIicgZGF0YS1vcmRlcj0nMSc+XCIgKyAoaSArIDEpICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICBsZGZUYWJsZURpdkZvb3RlckFycmF5W2F0dHJpZF0uYXBwZW5kKGl0ZW1QYWdlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5IaWRlUGFnZXMgPiAwKVxyXG4gICAge1xyXG4gICAgICAgIGl0ZW1QYWdlID0gXCI8bGk+PGEgaHJlZj0nIycgZGF0YS1wYWdlPScwJz4uLi48L2E+PC9saT5cIjtcclxuICAgICAgICBsZGZUYWJsZURpdkZvb3RlckFycmF5W2F0dHJpZF0uYXBwZW5kKGl0ZW1QYWdlKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgbGRmVGFibGVEaXZGb290ZXJBcnJheVthdHRyaWRdLnBhcmVudCgpLmZpbmQoXCIucm93XCIpLnJlbW92ZSgpO1xyXG4gICAgaXRlbVBhZ2UgPSBcIjxkaXYgY2xhc3M9J3Jvdycgc3R5bGU9J3Bvc2l0aW9uOiByZWxhdGl2ZTt3aWR0aDogMTAwJTttYXJnaW4tdG9wOiAtMTBweDsnPjxzcGFuIGNsYXNzPSdyb3dDb3VudCc+VG90YWw6IFwiICsgcm93Q291bnQgKyBcIiBSZWdpc3Rvczwvc3Bhbj48L2Rpdj5cIjtcclxuICAgIGxkZlRhYmxlRGl2Rm9vdGVyQXJyYXlbYXR0cmlkXS5wYXJlbnQoKS5hcHBlbmQoaXRlbVBhZ2UpO1xyXG5cclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBMREZUYWJsZUNoYW5nZVBhZ2UocGFnZSwgYXR0cmlkKSB7XHJcbiAgICB2YXIgb3JkZXJEYXRhID0gW107XHJcblxyXG4gICAgaWYgKHBhZ2UgPT0gMCkge1xyXG5cclxuICAgICAgICB2YXIgb2JqSUQgICA9ICQobGRmVGFibGVEaXZGb290ZXJBcnJheVthdHRyaWRdKVswXS5pZDtcclxuICAgICAgICB2YXIgaWR4ICAgICA9IDA7XHJcbiAgICAgICAgJChcIiNcIiArIG9iaklEICsgXCIgbGkuaGlkZGVuXCIpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpZHggPD0gMTApIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlkeCArKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCQoXCIjXCIgKyBvYmpJRCArIFwiIGxpLmhpZGRlblwiKS5sZW5ndGggPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyBvYmpJRCArIFwiIGxpXCIpLmZpbmQoXCJbZGF0YS1wYWdlPScwJ11cIikucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBlbGVtID0gbGRmVGFibGVUSGVhZGVyQXJyYXlbYXR0cmlkXS5maW5kKFwidGguYWN0aXZlXCIpO1xyXG4gICAgICAgIG9yZGVyRGF0YVswXSA9IGVsZW0uYXR0cihcImRhdGEtZmllbGRcIik7XHJcbiAgICAgICAgdmFyIGN1cml0ZW0gPSBlbGVtLmF0dHIoXCJkYXRhLW9yZGVyXCIpO1xyXG4gICAgICAgIGlmICh0eXBlb2YoZWxlbS5hdHRyKFwiZGF0YS1vcmRlclwiKSkgIT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGN1cml0ZW0gID0gY3VyaXRlbSAqLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9yZGVyRGF0YVsxXSA9IGN1cml0ZW07XHJcblxyXG4gICAgICAgIHZhciBmaWx0ZXJEYXRhID0gbGRmVGFibGVGaWx0ZXJEYXRhQXJyYXlbYXR0cmlkXTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBsZGZUYWJsZUxvYWRDYWxsYmFja0FycmF5W2F0dHJpZF0sXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IHsgJ3BhZ2VOdW1iZXInOiBwYWdlLCAnb3JkZXJEYXRhJzogbGRmVGFibGVPcmRlckFycmF5W2F0dHJpZF0sICdmaWx0ZXJEYXRhJyA6IGZpbHRlckRhdGEgfSxcclxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgIHRyYWRpdGlvbmFsOnRydWUsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlci5zdGF0dXMgPT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICBhbGVydChyZXMuaGVhZGVyLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlW2F0dHJpZF0gPSBwYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIExERlRhYmxlUmVuZGVyQm9keShyZXMsIGF0dHJpZCk7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgZXJyb3IgOiBmdW5jdGlvbiAoZSwganF4aHIsIHNldHRpbmdzLCBleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIExERlRhYmxlU2hvd0Vycm9yKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiQoXCIuaW50ZXJuYWxGb290ZXJcIikub24oXCJjbGlja1wiLCBcImxpID4gYVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KTtcclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy9FbmQgUGFnZSBNZXRob2RzXHJcbi8vXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG5cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vL0F1dG8gUmVmcmVzaFxyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuXHJcbmZ1bmN0aW9uIExERlRhYmxlUmVzZXRDb3VudGVyKGF0dHJpZClcclxue1xyXG4gICAgY2xlYXJJbnRlcnZhbChsZGZUYWJsZVJlZnJlc2hUaW1lT2JqZWN0W2F0dHJpZF0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBMREZUYWJsZVJlc3RhcnRDb3VudGVyKGF0dHJpZClcclxue1xyXG4gICAgTERGVGFibGVSZXNldENvdW50ZXIoYXR0cmlkKTtcclxuICAgIHZhciB0aW1lb3V0Q291bnQgPSBsZGZUYWJsZVJlZnJlc2hUaW1lW2F0dHJpZF07XHJcbiAgICBsZGZUYWJsZVJlZnJlc2hUaW1lT2JqZWN0W2F0dHJpZF0gPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgIFVwZGF0ZVJlZnJlc2hIZWFkZXIoYXR0cmlkLCB0aW1lb3V0Q291bnQpOyBcclxuICAgICAgICBcclxuICAgICAgICBMREZBdXRvUmVmcmVzaFRhYmxlKGF0dHJpZCk7XHJcbiAgICB9LCB0aW1lb3V0Q291bnQpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gVXBkYXRlUmVmcmVzaEhlYWRlcihhdHRyaWQsIHRpbWUpXHJcbntcclxuICAgIHZhciBkdFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgZHRUaW1lLnNldFNlY29uZHMoZHRUaW1lLmdldFNlY29uZHMoKSArICh0aW1lLzEwMDApKTtcclxuICAgIHZhciBociA9IChkdFRpbWUuZ2V0SG91cnMoKSA8PSA5ID8gXCIwXCIgOiBcIlwiKSArIGR0VGltZS5nZXRIb3VycygpO1xyXG4gICAgdmFyIG1uID0gKGR0VGltZS5nZXRNaW51dGVzKCkgPD0gOSA/IFwiMFwiIDogXCJcIikgKyBkdFRpbWUuZ2V0TWludXRlcygpO1xyXG4gICAgdmFyIHNjID0gKGR0VGltZS5nZXRTZWNvbmRzKCkgPD0gOSA/IFwiMFwiIDogXCJcIikgKyBkdFRpbWUuZ2V0U2Vjb25kcygpO1xyXG5cclxuXHJcbiAgICAkKFwiI2F1dG9SZWZyZXNoXCIgKyBhdHRyaWQpLmNoaWxkcmVuKCdzcGFuJykuaHRtbChcIlByw7N4aW1hIGF0dWFsaXphw6fDo28gXCIgKyBociArIFwiOlwiICsgbW4gKyBcIjpcIiArIHNjKTtcclxufVxyXG5cclxuZnVuY3Rpb24gTERGQXV0b1JlZnJlc2hUYWJsZShhdHRyaWQpXHJcbntcclxuICAgIExERlRhYmxlUmVzdGFydENvdW50ZXIoYXR0cmlkKTsgICAgXHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IGxkZlRhYmxlTG9hZENhbGxiYWNrQXJyYXlbYXR0cmlkXSxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6IHsgJ3BhZ2VOdW1iZXInOiBsZGZUYWJsZUN1clBhZ2VBdHRyaWJ1dGVbYXR0cmlkXSwgJ29yZGVyRGF0YSc6IGxkZlRhYmxlT3JkZXJBcnJheVthdHRyaWRdLCAnZmlsdGVyRGF0YScgOiBsZGZUYWJsZUZpbHRlckRhdGFBcnJheVthdHRyaWRdIH0sICAgICAgICAgICAgXHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgdHJhZGl0aW9uYWw6dHJ1ZSxcclxuICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICBpZiAocmVzLmhlYWRlci5zdGF0dXMgPT0gZmFsc2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgYWxlcnQocmVzLmhlYWRlci5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBMREZUYWJsZVJlbmRlckJvZHkocmVzLCBhdHRyaWQpOyBcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIGVycm9yIDogZnVuY3Rpb24gKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIExERlRhYmxlU2hvd0Vycm9yKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vL0VuZCBBdXRvIFJlZnJlc2hcclxuLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy9FZGl0IGFuZCBSZW1vdmUgbWV0aG9kc1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuXHJcblxyXG5mdW5jdGlvbiBJbml0Um93SW5saW5lQnV0dG9ucyhhdHRyaWQpXHJcbntcclxuICAgICQoXCIubGRmVGFibGVFZGl0Um93X1wiICsgYXR0cmlkKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjdXJPYmplY3QgICA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHBhcmVudFRSICAgID0gJCh0aGlzKS5jbG9zZXN0KFwidHJcIik7XHJcblxyXG4gICAgICAgIGlmICgkKHBhcmVudFRSKS5hdHRyKFwiZGF0YS1lZGl0aW5nXCIpID09IFwidHJ1ZVwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU2F2ZVJvdyhhdHRyaWQsIGN1ck9iamVjdCwgcGFyZW50VFIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEVkaXRSb3coYXR0cmlkLCBjdXJPYmplY3QsIHBhcmVudFRSKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmxkZlRhYmxlUmVtb3ZlUm93X1wiICsgYXR0cmlkKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBwYXJlbnRUUiAgICA9ICQodGhpcykuY2xvc2VzdChcInRyXCIpO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IGxkZlRhYmxlUmVtb3ZlQ2FsbEJhY2tBcnJheVthdHRyaWRdLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7ICdyb3dJRCc6IHBhcmVudFRSLmF0dHIoXCJkYXRhLXJvd2lkXCIpIH0sXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdHJhZGl0aW9uYWw6IHRydWUsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbGRmVGFibGVMb2FkQ2FsbGJhY2tBcnJheVthdHRyaWRdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdKU09OJywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ICdwYWdlTnVtYmVyJzogbGRmVGFibGVDdXJQYWdlQXR0cmlidXRlW2F0dHJpZF0sICdvcmRlckRhdGEnOiBsZGZUYWJsZU9yZGVyQXJyYXlbYXR0cmlkXSwgJ2ZpbHRlckRhdGEnIDogbGRmVGFibGVGaWx0ZXJEYXRhQXJyYXlbYXR0cmlkXX0sICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRpdGlvbmFsOnRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5oZWFkZXIuc3RhdHVzID09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzLmhlYWRlci5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExERlRhYmxlUmVuZGVyQm9keShyZXMsIGF0dHJpZCk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJJbmZlbGl6bWVudGUgbsOjbyBmb2kgcG9zc8OtdmVsIGFsdGVyYXIgbyByZWdpc3RvIHByZXRlbmRpZG9cIik7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIGVycm9yIDogZnVuY3Rpb24gKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7ICAgIFxyXG4gICAgfSk7ICAgIFxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gRWRpdFJvdyhhdHRyaWQsIGN1ck9iamVjdCwgcGFyZW50VFIpXHJcbntcclxuICAgICQocGFyZW50VFIpLmF0dHIoXCJkYXRhLWVkaXRpbmdcIiwgXCJ0cnVlXCIpO1xyXG5cclxuICAgIFxyXG4gICAgJChjdXJPYmplY3QpLmh0bWwoXCI8bGkgY2xhc3M9J2ZhIGZhLXNhdmUnPjwvbGk+IEdyYXZhclwiKTtcclxuXHJcbiAgICAvLyQoY3VyT2JqZWN0KS5wYXJlbnQoKS5hcHBlbmQoXCI8aW5wdXQgdHlwZT0nYnV0dG9uJyBjbGFzcz0nbGRmVGFibGVDYW5jZWxFZGl0Um93X1wiICsgYXR0cmlkICsgXCInIHZhbHVlPSdDYW5jZWxhcicvPlwiKTtcclxuICAgICQoY3VyT2JqZWN0KS5wYXJlbnQoKS5hcHBlbmQoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4td2FybmluZyBsZGZUYWJsZUNhbmNlbEVkaXRSb3dfXCIgKyBhdHRyaWQgKyBcIicgdmFsdWU9J0NhbmNlbGFyJz48bGkgY2xhc3M9J2ZhIGZhLXJldHdlZXQnPjwvbGk+IENhbmNlbGFyPC9idXR0b24+XCIpO1xyXG4gICAgSW5pdFJvd0lubGluZUNhbmNlbEJ1dHRvbihhdHRyaWQpO1xyXG4gICAgdmFyIHJvd0lEICAgICAgID0gcGFyZW50VFIuYXR0cihcImRhdGEtcm93aWRcIik7XHJcblxyXG4gICAgJC5lYWNoKGxkZlRhYmxlSGVhZGVyQXJyYXlbYXR0cmlkXSwgZnVuY3Rpb24gKGRhdGFrZXksIGRhdGFWYWx1ZSkge1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGRhdGFWYWx1ZS5oZWFkZXJFZGl0YWJsZSA9PSB0cnVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJC5lYWNoKCQocGFyZW50VFIpLmNoaWxkcmVuKFwidGRcIiksIGZ1bmN0aW9uICh0ZGtleSwgdGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodGRWYWx1ZSkuYXR0cihcImRhdGEtY29sdW1uXCIpID09IGRhdGFWYWx1ZS5oZWFkZXJJRCApXHJcbiAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgICQodGRWYWx1ZSkuYXR0cihcImRhdGEtY3VyVmFsdWVcIiwgJCh0ZFZhbHVlKS5odG1sKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKGhlYWRlclZhbHVlW1wiaGVhZGVyVHlwZVwiXSAhPSBudWxsICYmIGhlYWRlclZhbHVlW1wiaGVhZGVyVHlwZVwiXS5pbmRleE9mKFwiU3lzdGVtLkRhdGVUaW1lXCIpICE9IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaHRtbChSZW5kZXJFZGl0b3JGaWVsZChkYXRhVmFsdWUsICQodGRWYWx1ZSkuaHRtbCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxkZmVkaXRhYmxlLm1pbmltYWwnKS5pQ2hlY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsYXNzOiAnaWNoZWNrYm94X2ZsYXQtZ3JlZW4nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9bJ2RhdGEtY29sdW1uJz0nXCIgKyBkYXRhVmFsdWUuaGVhZGVySUQgKyBcIiddXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNhdmVSb3coYXR0cmlkLCBjdXJPYmplY3QsIHBhcmVudFRSKVxyXG57XHJcbiAgICB2YXIganNvbk9iamVjdCAgICAgID0gbmV3IE9iamVjdCgpO1xyXG4gICAgdmFyIGpzb25PYmplY3RUZXh0ICA9IG5ldyBPYmplY3QoKTtcclxuXHJcbiAgICAkLmVhY2goJChwYXJlbnRUUikuY2hpbGRyZW4oXCJ0ZFtkYXRhLWVkaXRhYmxlPSd0cnVlJ11cIiksIGZ1bmN0aW9uICh0ZGtleSwgdGRWYWx1ZSkge1xyXG4gICAgICAgICQuZWFjaChsZGZUYWJsZUhlYWRlckFycmF5W2F0dHJpZF0sIGZ1bmN0aW9uIChkYXRha2V5LCBkYXRhVmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFWYWx1ZS5oZWFkZXJJRCA9PSAkKHRkVmFsdWUpLmF0dHIoXCJkYXRhLWNvbHVtblwiKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZURhdGEgPSBHZXRFZGl0b3JGaWVsZFZhbHVlKGRhdGFWYWx1ZSwgdGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNoYW5nZURhdGEuaWQpICE9PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0W2RhdGFWYWx1ZS5oZWFkZXJJRF0gPSBjaGFuZ2VEYXRhLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb25PYmplY3RUZXh0W2RhdGFWYWx1ZS5oZWFkZXJJRF0gPSBjaGFuZ2VEYXRhLm9wdGlvblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0W2RhdGFWYWx1ZS5oZWFkZXJJRF0gPSBqc29uT2JqZWN0VGV4dFtkYXRhVmFsdWUuaGVhZGVySURdID0gY2hhbmdlRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogbGRmVGFibGVFZGl0Q2FsbEJhY2tBcnJheVthdHRyaWRdLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgZGF0YTogeyAncm93SUQnOiBwYXJlbnRUUi5hdHRyKFwiZGF0YS1yb3dpZFwiKSwgJ2ZpZWxkcyc6IEpTT04uc3RyaW5naWZ5KGpzb25PYmplY3QpIH0sXHJcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgIHRyYWRpdGlvbmFsOiB0cnVlLFxyXG4gICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMuaGVhZGVyLnN0YXR1cyA9PSBmYWxzZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICBhbGVydChyZXMuaGVhZGVyLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudFRSLmF0dHIoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgICAgICQocGFyZW50VFIpLmZpbmQoXCJidXR0b24ubGRmVGFibGVDYW5jZWxFZGl0Um93X1wiICsgYXR0cmlkKS5yZW1vdmUoKTsgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgJChjdXJPYmplY3QpLmh0bWwoXCI8bGkgY2xhc3M9J2ZhIGZhLWVkaXQnPjwvbGk+IEVkaXRhclwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goJChwYXJlbnRUUikuY2hpbGRyZW4oXCJ0ZFtkYXRhLWVkaXRhYmxlPSd0cnVlJ11cIiksIGZ1bmN0aW9uICh0ZGtleSwgdGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChsZGZUYWJsZUhlYWRlckFycmF5W2F0dHJpZF0sIGZ1bmN0aW9uIChkYXRha2V5LCBkYXRhVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFWYWx1ZS5oZWFkZXJJRCA9PSAkKHRkVmFsdWUpLmF0dHIoXCJkYXRhLWNvbHVtblwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0ZFZhbHVlKS5odG1sKGpzb25PYmplY3RUZXh0W2RhdGFWYWx1ZS5oZWFkZXJJRF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsgICBcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH0sICAgICAgIFxyXG4gICAgICAgIGVycm9yIDogZnVuY3Rpb24gKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIExERlRhYmxlU2hvd0Vycm9yKGUsIGpxeGhyLCBzZXR0aW5ncywgZXhjZXB0aW9uKTtcclxuICAgICAgICB9ICAgICAgICAgICAgICAgICAgIFxyXG4gICAgfSk7ICAgICBcclxufVxyXG5cclxuZnVuY3Rpb24gSW5pdFJvd0lubGluZUNhbmNlbEJ1dHRvbihhdHRyaWQpXHJcbntcclxuICAgICQoXCIubGRmVGFibGVDYW5jZWxFZGl0Um93X1wiICsgYXR0cmlkKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjdXJPYmplY3QgICA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHBhcmVudFRSICAgID0gJCh0aGlzKS5jbG9zZXN0KFwidHJcIik7XHJcbiAgICAgICAgJC5lYWNoKCQocGFyZW50VFIpLmNoaWxkcmVuKFwidGRbZGF0YS1lZGl0YWJsZT0ndHJ1ZSddXCIpLCBmdW5jdGlvbiAodGRrZXksIHRkVmFsdWUpIHtcclxuICAgICAgICAgICAgJCh0ZFZhbHVlKS5odG1sKCQodGRWYWx1ZSkuYXR0cihcImRhdGEtY3VyVmFsdWVcIikpO1xyXG4gICAgICAgICAgICAkKHRkVmFsdWUpLmF0dHIoXCJkYXRhLWN1clZhbHVlXCIsIFwiXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjdXJPYmplY3QucmVtb3ZlKCk7XHJcbiAgICAgICAgdmFyIGVkaXRPYmogPSAkKHBhcmVudFRSKS5maW5kKFwiYnV0dG9uLmxkZlRhYmxlRWRpdFJvd19cIiArIGF0dHJpZCk7XHJcblxyXG4gICAgICAgICQoZWRpdE9iaikuaHRtbChcIjxsaSBjbGFzcz0nZmEgZmEtZWRpdCc+PC9saT4gRWRpdGFyXCIpO1xyXG5cclxuICAgICAgICBwYXJlbnRUUi5hdHRyKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XHJcbiAgICB9KTsgICAgICAgIFxyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIFJlbmRlckVkaXRvckZpZWxkKGNvbE9iamVjdCwgdmFsdWUpXHJcbntcclxuICAgIGlmIChjb2xPYmplY3QuaGVhZGVyVHlwZS5pbmRleE9mKFwiU3RyaW5nXCIpICE9IC0xIHx8IGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJJbnRcIikgIT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gXCI8aW5wdXQgdHlwZT0ndGV4dCcgY2xhc3M9J2Zvcm0tY29udHJvbCcgdmFsdWU9J1wiICsgdmFsdWUgKyBcIicgLz5cIjtcclxuICAgIH0gZWxzZSBpZiAoY29sT2JqZWN0LmhlYWRlclR5cGUuaW5kZXhPZihcIkRhdGVUaW1lXCIpICE9IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPGlucHV0IHR5cGU9J3RleHQnIGNsYXNzPSdmb3JtLWNvbnRyb2wnIHZhbHVlPSdcIiArIHZhbHVlICsgXCInIC8+XCI7XHJcbiAgICB9IGVsc2UgaWYgKGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJTZWxlY3RMaXN0XCIpICE9IC0xIHx8IGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJCb29sZWFuXCIpICE9IC0xKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBcIlwiO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBjIGluIGNvbE9iamVjdC5oZWFkZXJFZGl0Q29udGVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChjb2xPYmplY3QuaGVhZGVyRWRpdENvbnRlbnQuaGFzT3duUHJvcGVydHkoYykpIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IGNvbE9iamVjdC5oZWFkZXJFZGl0Q29udGVudFtjXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IFwic2VsZWN0ZWRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGl0ZW0gKz0gXCI8b3B0aW9uIHZhbHVlPSdcIiArIGMgKyBcIicgXCIgKyAgc2VsZWN0ZWQgKyBcIj5cIiArIGNvbE9iamVjdC5oZWFkZXJFZGl0Q29udGVudFtjXSArIFwiPC9vcHRpb24+XCI7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIjxzZWxlY3QgY2xhc3M9J2Zvcm0tY29udHJvbCc+XCIgKyBpdGVtICsgXCI8L3NlbGVjdD5cIjtcclxuICAgIH0gXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEVkaXRvckZpZWxkVmFsdWUoY29sT2JqZWN0LCBlZGl0T2JqZWN0KVxyXG57XHJcbiAgICBpZiAoY29sT2JqZWN0LmhlYWRlclR5cGUuaW5kZXhPZihcIlN0cmluZ1wiKSAhPSAtMSB8fCBjb2xPYmplY3QuaGVhZGVyVHlwZS5pbmRleE9mKFwiSW50XCIpICE9IC0xICkge1xyXG4gICAgICAgIHJldHVybiAkKGVkaXRPYmplY3QpLmNoaWxkcmVuKCkudmFsKCk7XHJcbiAgICB9IGVsc2UgaWYgKGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJEYXRlVGltZVwiKSAhPSAtMSkge1xyXG4gICAgICAgIHJldHVybiAkKGVkaXRPYmplY3QpLmNoaWxkcmVuKCkudmFsKCk7XHJcbiAgICB9IGVsc2UgaWYgKGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJTZWxlY3RMaXN0XCIpICE9IC0xIHx8IGNvbE9iamVjdC5oZWFkZXJUeXBlLmluZGV4T2YoXCJCb29sZWFuXCIpICE9IC0xKSB7XHJcbiAgICAgICAgdmFyIGpzb25BcnIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogJChlZGl0T2JqZWN0KS5jaGlsZHJlbigpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvblZhbHVlXCIgOiAkKFwib3B0aW9uOnNlbGVjdGVkXCIsICQoZWRpdE9iamVjdCkuY2hpbGRyZW4oKSkudGV4dCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBqc29uQXJyO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vL1xyXG4vL0VuZCBFZGl0IGFuZCBSZW1vdmUgbWV0aG9kc1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy9BdXggTWV0aG9kc1xyXG4vL1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuXHJcbmZ1bmN0aW9uIGh0bWxFc2NhcGUoc3RyKSB7XHJcbiAgICByZXR1cm4gU3RyaW5nKHN0cilcclxuICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBUb0phdmFTY3JpcHREYXRlKHZhbHVlKSB7XHJcbiAgICB2YXIgcGF0dGVybjtcclxuICAgIHZhciByZXN1bHRzO1xyXG4gICAgdmFyIGR0O1xyXG4gICAgdmFyIHJlcztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcGF0dGVybiA9IC9EYXRlXFwoKFteKV0rKVxcKS87XHJcbiAgICAgICAgcmVzdWx0cyA9IHBhdHRlcm4uZXhlYyh2YWx1ZSk7XHJcbiAgICAgICAgZHQgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KHJlc3VsdHNbMV0pKTtcclxuICAgICAgICByZXMgPSAoZHQuZ2V0TW9udGgoKSArIDEpICsgXCIvXCIgKyBkdC5nZXREYXRlKCkgKyBcIi9cIiArIGR0LmdldEZ1bGxZZWFyKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxkZlRhYmxlIHwgVG9KYXZhU2NyaXB0RGF0ZVwiICsgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJlcyA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbilcclxue1xyXG4gICAgYWxlcnQoJ0RlIG1vbWVudG8gbsOjbyDDqSBwb3Nzw612ZWwgc2F0aXNmYXplciBvIHNldSBwZWRpZG8nKTtcclxuICAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBKc29uRmllbGRzKGZpZWxkcylcclxue1xyXG5cclxuICAgIHZhciBmaWVsZEFycmF5ICA9IGZpZWxkcy5zcGxpdChcIiZcIik7XHJcbiAgICB2YXIgZmllbGRPYmplY3QgPSBcIlwiO1xyXG5cclxuICAgICQuZWFjaChmaWVsZEFycmF5LCBmdW5jdGlvbihpZHgsIGVsZW0pIHtcclxuICAgICAgICB2YXIgYXJyID0gZmllbGRBcnJheVtpZHhdLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZmllbGRPYmplY3QgIT0gXCJcIilcclxuICAgICAgICAgICAgZmllbGRPYmplY3QgKz0gXCIsXCI7XHJcbiAgICAgICAgZmllbGRPYmplY3QgKz0gXCJ7J2ZpZWxkTmFtZSc6J1wiICsgYXJyWzBdICsgXCInLCdmaWVsZFZhbHVlJzonXCIgKyBhcnJbMV0gKyBcIid9XCI7XHJcbiAgICB9KTtcclxuICAgIGlmIChmaWVsZE9iamVjdCAhPSBcIlwiKVxyXG4gICAge1xyXG4gICAgICAgIGZpZWxkT2JqZWN0ID0gXCJbXCIgKyBmaWVsZE9iamVjdCArIFwiXVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmaWVsZE9iamVjdDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIExvYWRMREZUYWJsZShhdHRyaWQpXHJcbntcclxuICAgICQuYWpheCh7IFxyXG4gICAgICAgIHVybDogbGRmVGFibGVMb2FkQ2FsbGJhY2tBcnJheVthdHRyaWRdLCBcclxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLCBcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24gKHJlcykgeyBcclxuICAgICAgICAgICAgaWYgKHJlcy5oZWFkZXIuc3RhdHVzID09IGZhbHNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIGFsZXJ0KHJlcy5oZWFkZXIubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgTERGVGFibGVSZW5kZXJCb2R5KHJlcywgYXR0cmlkKTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICBMREZUYWJsZVNob3dFcnJvcihlLCBqcXhociwgc2V0dGluZ3MsIGV4Y2VwdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0gXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy9cclxuLy9FbmQgQXV4IE1ldGhvZHNcclxuLy9cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9